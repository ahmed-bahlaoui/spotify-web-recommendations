import gsap from "gsap";
import { useEffect, useRef } from "react";

export default function Loading() {
  const scope = useRef<SVGSVGElement>(null);

  useEffect(() => {
    const ctx = gsap.context(() => {
      const tl = gsap.timeline({
        repeat: -1,
        yoyo: true,
        repeatDelay: 0.5,
        paused: true,
      });

      tl.to("path", {
        duration: 1.0,
        stroke: "#FFFFFF",
        strokeWidth: 0.1,
        stagger: 0.2,
      }).to(
        "path",
        {
          duration: 1.0,
          fill: "rgba(255, 255, 255, 0)",
        },
        "-=0.5",
      );

      gsap.delayedCall(1.5, () => tl.play());
    }, scope);

    return () => ctx.revert();
  }, []);

  return (
    <div className="w-full h-screen flex justify-center items-center bg-black">
      <svg
        ref={scope}
        width="100"
        height="100"
        viewBox="0 0 34 34"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clipPath="url(#clip0_2604_19)">
          <path
            d="M1.31634 23.5527C2.24218 15.981 6.10138 13.5524 9.55695 11.4005C13.0855 9.20215 16.1374 7.27673 15.7703 0.0425415C14.1607 0.157571 12.576 0.502631 11.0643 1.0672C11.2178 6.80849 8.49808 8.51119 5.8589 10.1554C3.07149 11.8915 0.438386 13.5319 0.273438 20.0052C0.493876 21.2373 0.844298 22.4269 1.31634 23.5527Z"
            fill="white"
          />
          <path
            d="M5.0544 8.86467C7.51419 7.33148 9.50346 6.07726 9.54831 1.72018C5.07113 3.91469 1.69613 8.02017 0.488281 12.9671C1.72806 10.9383 3.45128 9.86273 5.0544 8.86467ZM5.50364 29.5107C6.10263 21.4411 9.64333 18.6248 13.0768 15.8982C16.8068 12.9367 20.3316 10.1303 20.1332 0.28505C19.1942 0.11042 18.2422 0.015067 17.2872 0C17.681 8.10378 13.9677 10.4435 10.3601 12.6904C6.70541 14.967 2.93363 17.3303 2.64326 26.0847C3.4431 27.3467 4.40474 28.4984 5.50364 29.5107ZM23.7096 20.6384C27.1165 17.9042 30.3304 15.3015 30.1586 6.22853C29.2401 5.11057 28.1837 4.11345 27.0147 3.26097C26.9668 13.1731 23.1136 16.2714 19.3791 19.2679C15.8643 22.0887 12.5463 24.7575 12.303 33.3417C13.7047 33.7446 15.1786 33.9734 16.7019 34.0008C17.1025 25.9639 20.4555 23.251 23.7096 20.6384ZM29.4197 24.1844C26.9797 25.6712 24.8635 26.9748 24.6172 32.203C29.2958 29.852 32.7445 25.4067 33.7266 20.1017C32.6305 22.2255 30.9681 23.2411 29.4197 24.1844Z"
            fill="white"
          />
          <path
            d="M28.6292 22.8869C31.2425 21.2936 33.7122 19.7901 33.4112 12.7991L33.4895 12.7961C33.0914 11.2392 32.473 9.74723 31.653 8.36527C31.2935 16.4759 27.9321 19.2002 24.6628 21.8242C21.5516 24.3189 18.6167 26.6959 18.2283 33.9582C19.8867 33.8409 21.5188 33.4797 23.0719 32.8864C23.1646 26.217 26.0668 24.4482 28.6292 22.8869ZM18.429 18.0821C22.165 15.0848 25.6951 12.2457 25.4883 2.26672C24.2845 1.57097 22.9996 1.02616 21.6626 0.644592C21.7713 10.9368 17.8338 14.0625 14.0225 17.0886C10.5517 19.844 7.27628 22.4619 6.96387 30.7117C8.14851 31.5818 9.44116 32.2945 10.8094 32.8317C11.1849 23.9191 14.8624 20.944 18.429 18.0821Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_2604_19">
            <rect width="34" height="34" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
}
